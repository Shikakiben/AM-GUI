(function registerTranslations(){
  const translations = {
    fr: {
      'categories.all': 'Tout',
      'tabs.categories': 'Catégories',
      'missingPm.title': 'Gestionnaire requis',
      'missingPm.desc': 'Aucun am/appman détecté sur cette machine.',
      'missingPm.pitch': 'Installez AM ou AppMan via le script officiel AM-INSTALLER pour afficher le catalogue.',
      'missingPm.install': 'Lancer AM-INSTALLER',
      'missingPm.copy': 'Copier la commande',
      'missingPm.docs': 'Documentation AM',
      'missingPm.secondary': 'Ou exécutez cette commande dans un terminal :',
      'missingPm.popup.title': 'Installer AM rapidement',
      'missingPm.popup.desc': "AM-GUI a besoin d'AM ou d'AppMan pour fonctionner. Choisissez la méthode d'installation qui vous convient.",
      'missingPm.popup.autoTitle': 'Installation rapide',
      'missingPm.popup.autoDesc': "Le système utilisera AppMan et les applications seront installées dans ~/Applications.",
      'missingPm.popup.autoCta': 'Installer',
      'missingPm.popup.manualTitle': 'Installation personnalisée',
      'missingPm.popup.manualDesc': "Exécutez le script AM-INSTALLER dans votre terminal pour choisir entre AM ou AppMan et leurs options. Consultez la documentation pour plus d'informations.",
      'missingPm.popup.manualCta': 'Copier la commande',
      'missingPm.popup.docs': 'Voir la documentation',
      'missingPm.popup.statusIdle': 'Choisissez une option pour continuer.',
      'missingPm.auto.installing': 'Téléchargement et installation en cours…',
      'missingPm.auto.success': 'AppMan installé. Rafraîchissement…',
      'missingPm.auto.error': 'Installation automatique impossible : {msg}',
      'missingPm.auto.errorShort': 'Échec installation auto.',
      'missingPm.manual.copied': 'Commande copiée. Ouvrez un terminal puis collez-la.',
      'missingPm.manual.copyError': 'Impossible de copier la commande.',
      'toast.cancelRequested': 'Annulation demandée…',
      'settings.gpuTitle': 'Accélération GPU',
      'settings.gpuLabel': "Désactiver l'accélération GPU (pour corriger les bugs graphiques)",
      'toast.gpuDisabled': "L'accélération GPU sera désactivée au prochain démarrage.",
      'toast.gpuEnabled': "L'accélération GPU sera activée au prochain démarrage.",
      'confirm.gpuRestart': "Redémarrer l'application maintenant pour appliquer le changement d'accélération GPU ?",
      'updates.none': 'Aucune mise à jour nécessaire.',
      'updates.done': 'Mises à jour effectuées (détails dans la sortie).',
      'confirm.installTitle': "Confirmer l'installation",
      'confirm.installMsg': "Installer {name} ?",
      'confirm.uninstallTitle': "Confirmer la désinstallation",
      'confirm.uninstallMsg': "Voulez-vous vraiment désinstaller {name} ?",
      'install.starting': 'Démarrage…',
      'install.error': 'Erreur',
      'install.cancelled': 'Annulée',
      'install.done': 'Terminé',
      'install.failed': 'Échec (#{code})',
      'install.hideLog': 'Masquer le log',
      'install.status': 'En cours…',
      'install.log': 'Afficher le log',
      'install.cancel': 'Annuler installation en cours',
      'install.queued': 'En file (#{pos}) ✕',
      'install.removeQueue': 'Retirer de la file',
      'main.title': 'AM-GUI',
      'search.placeholder': 'Rechercher des applications…',
      'settings.theme': 'Thème',
      'settings.lang': 'Langue',
      'settings.auto': 'Auto',
      'settings.fr': 'Français',
      'settings.en': 'Anglais',
      'settings.it': 'Italien',
      'settings.light': 'Clair',
      'settings.dark': 'Sombre',
      'settings.coming': 'À venir',
      'settings.future': 'De nouvelles options seront ajoutées ici prochainement.',
      'settings.purge': 'Vider le cache des icônes',
      'settings.title': 'Paramètres',
      'settings.links': 'Liens',
      'settings.openExternal': "Ouvrir les liens dans le navigateur externe",
      'window.min': 'Réduire',
      'window.max': 'Maximiser / Restaurer',
      'window.close': 'Fermer',
      'tabs.all': 'Applications',
      'tabs.installed': 'Installées',
      'tabs.updates': 'Mises à jour',
      'tabs.advanced': 'Mode avancé',
      'refresh.title': 'Rafraîchir la liste',
      'refresh.aria': 'Rafraîchir',
      'modeMenu.title': "Changer de mode d'affichage",
      'modeMenu.grid': 'Grille',
      'modeMenu.list': 'Liste',
      'modeMenu.icons': 'Icônes',
      'modeMenu.cards': 'Cartes',
      'updates.title': 'Mettre à jour AM et toutes les applications installées',
      'updates.run': 'Mettre à jour',
      'updates.loading': 'Recherche de mises à jour et installation si nécessaire…',
      'updates.details': 'Voir les détails…',
      'updates.updatedApps': 'Applications mises à jour :',
      'updates.duration': ' (Durée {dur}s)',
      'details.loadingDesc': 'Récupération distante en cours...\n\nNom interne: {name}',
      'details.errorDesc': 'Impossible de récupérer la description distante.\n{error}',
      'error.unknown': 'Erreur inconnue',
      'error.ipc': 'IPC échec: {msg}',
      'settings.purging': 'Vidage…',
      'settings.done': 'Terminé.',
      'settings.removedFiles': '{count} fichier(s) supprimé(s).',
      'settings.purgeError': 'Erreur purge',
      'toast.noUpdateLog': 'Aucun log de mise à jour disponible.',
      'toast.copied': 'Copié dans le presse-papiers.',
      'toast.copyError': 'Erreur de copie.',
      'toast.saveError': 'Erreur de sauvegarde.',
      'toast.refreshing': 'Rafraîchissement…',
      'toast.updating': 'Mise à jour en cours…',
      'toast.removedFromQueue': "Retiré de la file d'attente.",
      'toast.removeQueueError': 'Erreur lors de la suppression de la file.',
      'toast.alreadyInQueue': '{name} est déjà dans la file.',
      'toast.addedToQueue': '{name} ajouté à la file ({count} en attente).',
      'advanced.title': 'Mode avancé',
      'advanced.coming': 'À venir',
      'advanced.future': 'De nouvelles options seront ajoutées ici prochainement.',
      'advanced.waiting': 'Fonctions avancées encore non disponibles dans l’UI — utilisez le terminal : am -h pour la liste complète des commandes.',
      'advanced.cmd.help': 'aide',
      'advanced.cmd.list': 'lister les apps disponibles',
      'advanced.cmd.about': "informations sur l'app",
      'advanced.cmd.install': 'installer (ajouter --user pour local)',
      'advanced.cmd.query': 'rechercher',
      'advanced.cmd.update': 'mettre à jour (ou am -u {PROGRAM})',
      'advanced.cmd.updatemodules': 'mettre à jour AM/modules',
      'advanced.cmd.remove': 'supprimer',
      'advanced.cmd.extra': 'installer depuis GitHub',
      'advanced.cmd.translate': 'gérer traductions',
      'advanced.note.appman': 'Pour la version sans privilèges, remplacez <code>am</code> par <code>appman</code>.',
      'advanced.docs': 'Documentation complète & guides →',
      'details.back': '← Retour',
      'details.desc': 'Description',
      'details.install': 'Installer',
      'details.uninstall': 'Désinstaller',
      'install.lines': '0 lignes',
      'modal.updateTitle': 'Détails de la mise à jour',
      'modal.close': 'Fermer',
      'modal.copy': 'Copier',
      'modal.save': 'Enregistrer…',
      'modal.closeBtn': 'Fermer',
      'confirm.cancel': 'Annuler',
      'confirm.ok': 'Valider',
      'warning.title': 'Avertissement',
      'warning.checkboxText': "Je reste avec wget2, ne plus afficher cet avertissement (peut causer des bugs mineurs)",
      'warning.closeBtn': 'Fermer',
      'password.title': 'Mot de passe requis',
      'password.desc': 'Pour continuer, veuillez entrer votre mot de passe administrateur.',
      'password.placeholder': 'Mot de passe',
      'password.ok': 'Valider',
      'password.cancel': 'Annuler',
      'password.error': 'Veuillez entrer un mot de passe.'
    },
    en: {
      'categories.all': 'All',
      'tabs.categories': 'Categories',
      'missingPm.title': 'Package manager missing',
      'missingPm.desc': 'AM-GUI could not detect am or appman on this system.',
      'missingPm.pitch': 'Launch the official AM-INSTALLER script to install AM or AppMan and unlock the catalog.',
      'missingPm.install': 'Run AM-INSTALLER',
      'missingPm.copy': 'Copy command',
      'missingPm.docs': 'Read the docs',
      'missingPm.secondary': 'Or run this command from your terminal:',
      'missingPm.popup.title': 'Get AM up and running',
      'missingPm.popup.desc': 'AM-GUI requires AM or AppMan to run. Pick the installation method that works best for you.',
      'missingPm.popup.autoTitle': 'Quick installation',
      'missingPm.popup.autoDesc': 'The system will use AppMan and applications will be installed in ~/Applications.',
      'missingPm.popup.autoCta': 'Install',
      'missingPm.popup.manualTitle': 'Custom installation',
      'missingPm.popup.manualDesc': 'Run the AM-INSTALLER script in your terminal to choose between AM or AppMan and their options. See the documentation for more information.',
      'missingPm.popup.manualCta': 'Copy command',
      'missingPm.popup.docs': 'Open installation docs',
      'missingPm.popup.statusIdle': 'Choose the option that fits you best.',
      'missingPm.auto.installing': 'Downloading and configuring AppMan…',
      'missingPm.auto.success': 'AppMan installed. Refreshing…',
      'missingPm.auto.error': 'Auto-install failed: {msg}',
      'missingPm.auto.errorShort': 'Auto-install failed.',
      'missingPm.manual.copied': 'Command copied. Open a terminal and paste it.',
      'missingPm.manual.copyError': 'Unable to copy the command.',
      'toast.cancelRequested': 'Cancel requested…',
      'settings.gpuTitle': 'GPU acceleration',
      'settings.gpuLabel': 'Disable GPU acceleration (to fix graphics bugs)',
      'toast.gpuDisabled': 'GPU acceleration will be disabled on next launch.',
      'toast.gpuEnabled': 'GPU acceleration will be enabled on next launch.',
      'confirm.gpuRestart': 'Restart the application now to apply the GPU acceleration change?',
      'updates.none': 'No update needed.',
      'updates.done': 'Updates done (see output for details).',
      'confirm.installTitle': 'Confirm installation',
      'confirm.installMsg': 'Install {name}?',
      'confirm.uninstallTitle': 'Confirm uninstall',
      'confirm.uninstallMsg': 'Do you really want to uninstall {name}?',
      'install.starting': 'Starting…',
      'install.error': 'Error',
      'install.cancelled': 'Cancelled',
      'install.done': 'Done',
      'install.failed': 'Failed (#{code})',
      'install.hideLog': 'Hide log',
      'install.status': 'In progress…',
      'install.log': 'Show log',
      'install.cancel': 'Cancel ongoing installation',
      'install.queued': 'In queue (#{pos}) ✕',
      'install.removeQueue': 'Remove from queue',
      'main.title': 'App Manager',
      'search.placeholder': 'Search for applications…',
      'settings.theme': 'Theme',
      'settings.lang': 'Language',
      'settings.auto': 'Auto',
      'settings.fr': 'French',
      'settings.en': 'English',
      'settings.it': 'Italian',
      'settings.light': 'Light',
      'settings.dark': 'Dark',
      'settings.coming': 'Coming soon',
      'settings.future': 'New options will be added here soon.',
      'settings.purge': 'Clear icon cache',
      'settings.title': 'Settings',
      'settings.links': 'Links',
      'settings.openExternal': 'Open links in external browser',
      'window.min': 'Minimize',
      'window.max': 'Maximize / Restore',
      'window.close': 'Close',
      'tabs.all': 'Applications',
      'tabs.installed': 'Installed',
      'tabs.updates': 'Updates',
      'tabs.advanced': 'Advanced mode',
      'refresh.title': 'Refresh list',
      'refresh.aria': 'Refresh',
      'modeMenu.title': 'Change display mode',
      'modeMenu.grid': 'Grid',
      'modeMenu.list': 'List',
      'modeMenu.icons': 'Icons',
      'modeMenu.cards': 'Cards',
      'updates.title': 'Update AM and all installed apps',
      'updates.run': 'Update',
      'updates.loading': 'Searching for updates and installing if needed…',
      'updates.details': 'Show details…',
      'updates.updatedApps': 'Updated apps:',
      'updates.duration': ' (Duration {dur}s)',
      'details.loadingDesc': 'Fetching remote description...\n\nInternal name: {name}',
      'details.errorDesc': 'Unable to fetch remote description.\n{error}',
      'error.unknown': 'Unknown error',
      'error.ipc': 'IPC failure: {msg}',
      'settings.purging': 'Purging…',
      'settings.done': 'Done.',
      'settings.removedFiles': '{count} file(s) removed.',
      'settings.purgeError': 'Purge error',
      'toast.noUpdateLog': 'No update log available.',
      'toast.copied': 'Copied to clipboard.',
      'toast.copyError': 'Copy error.',
      'toast.saveError': 'Save error.',
      'toast.refreshing': 'Refreshing…',
      'toast.updating': 'Updating…',
      'toast.removedFromQueue': 'Removed from queue.',
      'toast.removeQueueError': 'Error removing from queue.',
      'toast.alreadyInQueue': '{name} is already in queue.',
      'toast.addedToQueue': '{name} added to queue ({count} pending).',
      'advanced.title': 'Advanced mode',
      'advanced.coming': 'Coming soon',
      'advanced.future': 'New options will be added here soon.',
      'advanced.waiting': 'Advanced features are not yet available in the UI — use the terminal: am -h for the full command list.',
      'advanced.cmd.help': 'help',
      'advanced.cmd.list': 'list available apps',
      'advanced.cmd.about': 'show app information',
      'advanced.cmd.install': 'install (add --user for local)',
      'advanced.cmd.query': 'search',
      'advanced.cmd.update': 'update (or am -u {PROGRAM})',
      'advanced.cmd.updatemodules': 'update AM/modules',
      'advanced.cmd.remove': 'remove',
      'advanced.cmd.extra': 'install from GitHub',
      'advanced.cmd.translate': 'manage translations',
      'advanced.note.appman': 'For the non-privileged version, replace <code>am</code> with <code>appman</code>.',
      'advanced.docs': 'Complete documentation & guides →',
      'details.back': '← Back',
      'details.desc': 'Description',
      'details.install': 'Install',
      'details.uninstall': 'Uninstall',
      'install.lines': '0 lines',
      'modal.updateTitle': 'Update details',
      'modal.close': 'Close',
      'modal.copy': 'Copy',
      'modal.save': 'Save…',
      'modal.closeBtn': 'Close',
      'confirm.cancel': 'Cancel',
      'confirm.ok': 'OK',
      'warning.title': 'Warning',
      'warning.checkboxText': "I stay with wget2, do not show this warning again (may cause minor bugs)",
      'warning.closeBtn': 'Close',
      'password.title': 'Password required',
      'password.desc': 'To continue, please enter your administrator password.',
      'password.placeholder': 'Password',
      'password.ok': 'OK',
      'password.cancel': 'Cancel',
      'password.error': 'Please enter a password.'
    },
    it: {
      'categories.all': 'Tutte',
      'tabs.categories': 'Categorie',
      'missingPm.title': 'Gestore richiesto',
      'missingPm.desc': 'AM-GUI non ha trovato am o appman su questo sistema.',
      'missingPm.pitch': 'Avvia lo script ufficiale AM-INSTALLER per installare AM o AppMan e attivare il catalogo.',
      'missingPm.install': 'Avvia AM-INSTALLER',
      'missingPm.copy': 'Copia comando',
      'missingPm.docs': 'Documentazione AM',
      'missingPm.secondary': 'Oppure esegui questo comando dal terminale:',
      'missingPm.popup.title': 'Installa AM rapidamente',
      'missingPm.popup.desc': "AM-GUI necessita di AM o AppMan per funzionare. Scegli il metodo di installazione che preferisci.",
      'missingPm.popup.autoTitle': 'Installazione rapida',
      'missingPm.popup.autoDesc': 'Il sistema utilizzerà AppMan e le applicazioni verranno installate in ~/Applications.',
      'missingPm.popup.autoCta': 'Installa',
      'missingPm.popup.manualTitle': 'Installazione personalizzata',
      'missingPm.popup.manualDesc': "Esegui lo script AM-INSTALLER nel terminale per scegliere tra AM o AppMan e le rispettive opzioni. Consulta la documentazione per maggiori informazioni.",
      'missingPm.popup.manualCta': 'Copia il comando',
      'missingPm.popup.docs': 'Apri la documentazione',
      'missingPm.popup.statusIdle': 'Scegli un\'opzione per continuare.',
      'missingPm.auto.installing': 'Download e configurazione in corso…',
      'missingPm.auto.success': 'AppMan installato. Aggiornamento…',
      'missingPm.auto.error': 'Installazione automatica non riuscita: {msg}',
      'missingPm.auto.errorShort': 'Installazione automatica fallita.',
      'missingPm.manual.copied': 'Comando copiato. Apri un terminale e incollalo.',
      'missingPm.manual.copyError': 'Impossibile copiare il comando.',
      'toast.cancelRequested': 'Annullamento richiesto…',
      'settings.gpuTitle': 'Accelerazione GPU',
      'settings.gpuLabel': 'Disattiva accelerazione GPU (per correggere bug grafici)',
      'toast.gpuDisabled': "L'accélération GPU sarà disabilitata al prossimo avvio.",
      'toast.gpuEnabled': "L'accélération GPU sarà abilitata al prossimo avvio.",
      'confirm.gpuRestart': "Riavviare l'applicazione ora per applicare la modifica dell'accelerazione GPU?",
      'updates.none': 'Nessun aggiornamento necessario.',
      'updates.done': 'Aggiornamenti completati (vedi dettagli nell’output).',
      'confirm.installTitle': 'Conferma installazione',
      'confirm.installMsg': 'Installare {name}?',
      'confirm.uninstallTitle': 'Conferma disinstallazione',
      'confirm.uninstallMsg': 'Vuoi davvero disinstallare {name}?',
      'install.starting': 'Avvio…',
      'install.error': 'Errore',
      'install.cancelled': 'Annullata',
      'install.done': 'Completato',
      'install.failed': 'Fallito (#{code})',
      'install.hideLog': 'Nascondi log',
      'install.status': 'In corso…',
      'install.log': 'Mostra log',
      'install.cancel': 'Annulla installazione in corso',
      'install.queued': 'In coda (#{pos}) ✕',
      'install.removeQueue': 'Rimuovi dalla coda',
      'main.title': 'App Manager',
      'search.placeholder': 'Cerca applicazioni…',
      'settings.theme': 'Tema',
      'settings.lang': 'Lingua',
      'settings.auto': 'Auto',
      'settings.fr': 'Francese',
      'settings.en': 'Inglese',
      'settings.it': 'Italiano',
      'settings.light': 'Chiaro',
      'settings.dark': 'Scuro',
      'settings.coming': 'In arrivo',
      'settings.future': 'Nuove opzioni saranno aggiunte presto.',
      'settings.purge': 'Svuota cache icone',
      'settings.title': 'Impostazioni',
      'settings.links': 'Link',
      'settings.openExternal': 'Apri i link nel browser esterno',
      'window.min': 'Riduci',
      'window.max': 'Massimizza / Ripristina',
      'window.close': 'Chiudi',
      'tabs.all': 'Applicazioni',
      'tabs.installed': 'Installate',
      'tabs.updates': 'Aggiornamenti',
      'tabs.advanced': 'Modalità avanzata',
      'refresh.title': 'Aggiorna elenco',
      'refresh.aria': 'Aggiorna',
      'modeMenu.title': 'Cambia modalità di visualizzazione',
      'modeMenu.grid': 'Griglia',
      'modeMenu.list': 'Lista',
      'modeMenu.icons': 'Icone',
      'modeMenu.cards': 'Carte',
      'updates.title': 'Aggiorna AM e tutte le app installate',
      'updates.run': 'Aggiorna',
      'updates.loading': 'Ricerca aggiornamenti e installazione se necessario…',
      'updates.details': 'Mostra dettagli…',
      'updates.updatedApps': 'App aggiornate:',
      'updates.duration': ' (Durata {dur}s)',
      'details.loadingDesc': 'Recupero descrizione remota...\n\nNome interno: {name}',
      'details.errorDesc': 'Impossibile recuperare la descrizione remota.\n{error}',
      'error.unknown': 'Errore sconosciuto',
      'error.ipc': 'Fallimento IPC: {msg}',
      'settings.purging': 'Pulizia…',
      'settings.done': 'Completato.',
      'settings.removedFiles': '{count} file rimossi.',
      'settings.purgeError': 'Errore pulizia',
      'toast.noUpdateLog': 'Nessun log di aggiornamento disponibile.',
      'toast.copied': 'Copiato negli appunti.',
      'toast.copyError': 'Errore di copia.',
      'toast.saveError': 'Errore di salvataggio.',
      'toast.refreshing': 'Aggiornamento…',
      'toast.updating': 'Aggiornamento in corso…',
      'toast.removedFromQueue': 'Rimosso dalla coda.',
      'toast.removeQueueError': 'Errore nella rimozione dalla coda.',
      'toast.alreadyInQueue': '{name} è già in coda.',
      'toast.addedToQueue': '{name} aggiunto alla coda ({count} in attesa).',
      'advanced.title': 'Modalità avanzata',
      'advanced.coming': 'In arrivo',
      'advanced.future': 'Nuove opzioni saranno aggiunte presto.',
      'advanced.waiting': "Le funzionalités avanzate non sono ancora disponibili nell'interfaccia — usa il terminale: am -h per la lista completa dei comandi.",
      'advanced.cmd.help': 'aiuto',
      'advanced.cmd.list': 'elenca le app disponibili',
      'advanced.cmd.about': "informazioni sull'app",
      'advanced.cmd.install': 'installa (aggiungi --user per locale)',
      'advanced.cmd.query': 'cerca',
      'advanced.cmd.update': 'aggiorna (o am -u {PROGRAM})',
      'advanced.cmd.updatemodules': 'aggiorna AM/modules',
      'advanced.cmd.remove': 'rimuovi',
      'advanced.cmd.extra': 'installa da GitHub',
      'advanced.cmd.translate': 'gestisci traduzioni',
      'advanced.note.appman': 'Per la versione senza privilegi, sostituisci <code>am</code> con <code>appman</code>.',
      'advanced.docs': 'Documentazione completa & guide →',
      'details.back': '← Indietro',
      'details.desc': 'Descrizione',
      'details.install': 'Installa',
      'details.uninstall': 'Disinstalla',
      'install.lines': '0 righe',
      'modal.updateTitle': 'Dettagli aggiornamento',
      'modal.close': 'Chiudi',
      'modal.copy': 'Copia',
      'modal.save': 'Salva…',
      'modal.closeBtn': 'Chiudi',
      'confirm.cancel': 'Annulla',
      'confirm.ok': 'Conferma',
      'warning.title': 'Avviso',
      'warning.checkboxText': "Resto con wget2, non mostrare più questo avviso (potrebbe causare piccoli bug)",
      'warning.closeBtn': 'Chiudi',
      'password.title': 'Password richiesto',
      'password.desc': 'Per continuare, inserisci la tua password di amministratore.',
      'password.placeholder': 'Password',
      'password.ok': 'Conferma',
      'password.cancel': 'Annulla',
      'password.error': 'Inserisci una password.'
    }
  };

  window.i18n = window.i18n || {};
  window.i18n.catalog = translations;
  window.translations = translations;
})();
